<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Roulette San Sushi Clamart</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    background: #000;
    color: #fff;
    text-align: center;
    padding: 30px;
  }

  h1 {
    color: #ff5656;
    font-size: 2em;
    margin-bottom: 10px;
  }

  p.description {
    color: #fff;
    font-size: 1.2em;
    margin-bottom: 30px;
  }

  #wheel-container {
    position: relative;
    width: 350px;
    height: 350px;
    margin: 0 auto;
  }

  #wheel {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    border: 10px solid #ff5656;
    position: relative;
    overflow: hidden;
    box-shadow: 0 0 20px #ff5656;
  }

  .segment {
    position: absolute;
    width: 50%;
    height: 50%;
    background-color: #ff5656;
    transform-origin: 100% 100%;
    clip-path: polygon(100% 100%, 0% 100%, 100% 0%);
  }

  #pointer {
    width: 0;
    height: 0;
    border-left: 20px solid transparent;
    border-right: 20px solid transparent;
    border-bottom: 40px solid #ff5656;
    position: absolute;
    top: -40px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;
  }

  #spin {
    margin-top: 40px;
    padding: 15px 40px;
    font-size: 18px;
    background: #ff5656;
    color: #fff;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    box-shadow: 0 5px 10px rgba(0,0,0,0.3);
    transition: all 0.3s ease;
  }

  #spin:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 15px rgba(0,0,0,0.4);
  }

  #result {
    margin-top: 25px;
    font-size: 1.5em;
    font-weight: bold;
    color: #ff5656;
  }

  p.note {
    font-size: 0.9em;
    margin-top: 20px;
    color: #fff;
  }

</style>
</head>
<body>

<h1>San Sushi Clamart üç£</h1>
<p class="description">Tournez la roue et remportez votre r√©compense !</p>

<div id="wheel-container">
  <div id="wheel"></div>
  <div id="pointer"></div>
</div>

<button id="spin">Tourner la roue üéâ</button>
<div id="result"></div>
<p class="note">*sous r√©serve de nous montrer la preuve de votre avis Google</p>

<script>
  const segments = [
    {text: "Boisson ü•§", color: "#ff5656"},
    {text: "Bubble Tea üßã", color: "#000"},
    {text: "Moelleux au chocolat üç´", color: "#ff5656"},
    {text: "Tiramisu üçÆ", color: "#000"},
    {text: "Boisson ü•§", color: "#ff5656"},
  ];

  const wheel = document.getElementById('wheel');
  const spinButton = document.getElementById('spin');
  const resultDiv = document.getElementById('result');

  // Cr√©er les segments
  const segmentCount = segments.length;
  const angle = 360 / segmentCount;

  segments.forEach((segment, index) => {
    const seg = document.createElement('div');
    seg.classList.add('segment');
    seg.style.backgroundColor = segment.color;
    seg.style.transform = `rotate(${index * angle}deg) skewY(-60deg)`;
    
    const label = document.createElement('div');
    label.style.position = 'absolute';
    label.style.width = '100%';
    label.style.height = '100%';
    label.style.display = 'flex';
    label.style.alignItems = 'flex-start';
    label.style.justifyContent = 'center';
    label.style.transform = 'skewY(60deg) rotate(' + (angle/2) + 'deg)';
    label.style.fontWeight = 'bold';
    label.style.color = '#fff';
    label.innerText = segment.text;

    seg.appendChild(label);
    wheel.appendChild(seg);
  });

  // V√©rifier cookie pour un seul tour
  if (document.cookie.includes("roulettePlayed=true")) {
    spinButton.disabled = true;
    resultDiv.innerText = "Vous avez d√©j√† tourn√© la roulette !";
  }

  spinButton.addEventListener("click", () => {
    spinButton.disabled = true;

    const randDeg = Math.floor(Math.random() * 360);
    wheel.style.transition = "transform 5s ease-out";
    wheel.style.transform = `rotate(${randDeg + 1440}deg)`;

    setTimeout(() => {
      const chosenIndex = Math.floor((360 - (randDeg % 360)) / angle) % segmentCount;
      resultDiv.innerText = `F√©licitations ! Vous gagnez : ${segments[chosenIndex].text}`;

      document.cookie = "roulettePlayed=true; max-age=31536000; path=/";
    }, 5000);
  });
</script>

</body>
</html>
